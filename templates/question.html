{% extends 'layout.html' %}

{% block body %}

  <div class="mt-3 mx-auto rounded-sm card shadow w-75"> 
    <div class="card-body"> 
      <h2 class="card-title text-center" >{{ question.title }}</h2>
      <h6 class="card-subtitle mb-2 text-muted text-right text-monospace">{{ question.name }}</h6> 
      <hr class="my-2">
      <br>
      <p class="card-text text-justify"> {{ question.description }} </p> 
      <br>
      <h6 class="card-footer text-muted text-right">Criado em: {{ question.createdAt }} </h6>
      </div>
  </div>
  {% for answer in answers %}
    <div class="mt-3 mx-auto rounded-sm card shadow w-50"> 
      <div class="card-body"> 
        <hr class="my-2">
        <br>
        <p class="card-text text-justify"> {{ answer.comment }} </p> 
        <br>
        
      </div>
      <div class="card-footer">
        <h6 class="text-muted text-right">Respondido em: {{ answer.createdAt }} por {{ answer.name }}  </h6>    
           {% if session.logged_in != NULL and session.user_id == answer.user_id %}
            <form class="form-inline">
              <a href="/edit_answer/{{answer.id}}" class="m-1 btn btn-outline-info">Edit</a>
              <form action="{{ url_for('deleteAnswer', id = answer.id) }}" method="post">
                <input type="hidden" name="_method" value="Delete">
                <input type="submit" value="Delete" class="btn btn-outline-danger pull-right">
              </form>
            </form>
            {% endif %}
        </div>
    </div>
  {% endfor %}

  <h2>Sua Resposta</h2>
    {% from 'includes/_formhelpers.html' import render_field %}
    <form method="POST" action="">
      <div class="form-group">
        {{ render_field(form.description, class_="form-control")  }}
      </div>
      <p><input class="btn btn-primary" type="submit" value="Submit"></p>
    </form>
{% endblock %}
